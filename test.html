<!DOCTYPE html>
<html>
	<head>
		<title>Test</title>
	</head>
	<body>
		<!-- Make a file input for you to select an MP3 -->
		<input type="file" multiple>
		<!-- Include ID3.js -->
		<script src="id3.min.js"></script>
		<script type="text/javascript">
            song = {};
			document.querySelector('input[type="file"]').onchange = function(e) {
                var files = this.files;
                var table = document.querySelector("#mainTable");
                table.innerHTML = "";
                var songs = [];
                var counter = 0;
                for (var i in files){
                    if(files.hasOwnProperty(i)){
                        var tr = document.createElement('tr');
                        var td1 = document.createElement('td');
                        var td2 = document.createElement('td');
                        var td3 = document.createElement('td');
                        ++counter;
                        id3(files[i], function(err, tags, counter, td1, td2, td3, tr, table) {
                            console.log(td1);
                            window.song = {id: counter, artist: tags.artist, title: tags.title};
                            td1.innerHTML = counter.toString();
                            td2.innerHTML = song.artist;
                            td3.innerHTML = song.title;
                            songs.push(window.song);
                            tr.appendChild(td1);
                            tr.appendChild(td2);
                            tr.appendChild(td3);
                            table.appendChild(tr);
                        });
                    }
                }
            };
		</script>
    <table id="mainTable"></table>
	</body>
</html>
